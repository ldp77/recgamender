(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{19:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),c=n(14),i=n.n(c),s=(n(19),n(1)),o=n(7),d=n.n(o),u=n(8),l=n(10),p=n(11),b=n(3),j=n(4),h=n(6),m=n(5),f=n(0),x=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this)).state={hovered:!1,selected:!1},r}return Object(j.a)(n,[{key:"render",value:function(){var e=this;return Object(f.jsx)("span",{onMouseEnter:function(){e.setState({hovered:!0})},onMouseLeave:function(){e.setState({hovered:!1})},onClick:function(){e.props.updateClicked(e.props.game.id),e.setState((function(e){return Object(s.a)(Object(s.a)({},e),{},{selected:!e.selected})}))},style:e.state.hovered?O:e.state.selected?v:g,children:this.props.game.title})}}]),n}(r.Component),g={borderRadius:"2em",boxShadow:"0px 2px 8px 0px rgba(99, 99, 99, 0.2)",padding:" 0.5em 1em",margin:"1em 0.5em"},O=Object(s.a)(Object(s.a)({},g),{},{backgroundColor:"#ddd",cursor:"pointer"}),v=Object(s.a)(Object(s.a)({},g),{},{backgroundColor:"#ccc"}),k=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this)).updateClicked=function(e){r.state.clicked.has(e)?r.setState((function(t){return t.clicked.delete(e),t})):(r.setState((function(t){return t.clicked.add(e),t})),r.props.updateClicked(e))},r.state={clicked:new Set,next_hovered:!1},r}return Object(j.a)(n,[{key:"render",value:function(){var e,t=this,n=[],r=Object(l.a)(this.props.games);try{for(r.s();!(e=r.n()).done;){var a=e.value;n.push(Object(f.jsx)(x,{updateClicked:this.updateClicked,game:{title:a.name,id:a.id}},a.id))}}catch(i){r.e(i)}finally{r.f()}var c=Object(f.jsx)("span",{style:t.state.clicked.size>=6?t.state.next_hovered?R:w:M,onMouseEnter:function(){t.setState({next_hovered:!0})},onMouseLeave:function(){t.setState({next_hovered:!1})},onClick:function(){t.state.clicked.size>=6&&t.props.nextClicked(Object(u.a)(t.state.clicked))},children:"next"});return Object(f.jsxs)("div",{style:y,children:[Object(f.jsxs)("div",{style:C,children:[" ","Howdy, select games you like: ",Object(f.jsx)("br",{})]}),Object(f.jsx)("div",{style:S,children:n}),c]})}}]),n}(r.Component),y={margin:"20%",marginTop:"2em",textAlign:"center",padding:"10%",borderRadius:"1em",boxShadow:"0px 2px 8px 0px rgba(99, 99, 99, 0.2)"},C={marginBottom:"1em",fontSize:"2em"},S={display:"flex",alignContent:"center",flexWrap:"wrap"},w={borderRadius:"2em",boxShadow:"0px 2px 8px 0px rgba(99, 99, 99, 0.2)",padding:" 0.5em 1em",margin:"1em 0.5em",float:"right"},R=Object(s.a)(Object(s.a)({},w),{},{backgroundColor:"#ddd",cursor:"pointer"}),M=(Object(s.a)(Object(s.a)({},w),{},{backgroundColor:"#ccc"}),Object(s.a)(Object(s.a)({},w),{},{opacity:"50%"})),_=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(f.jsxs)("div",{style:A,children:[Object(f.jsx)("h1",{children:this.props.title})," ",Object(f.jsx)("a",{href:this.props.steamlink,target:"_blank",style:T,children:"steam"}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),"genres: ",this.props.genre,Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("div",{children:this.props.description.substr("About This Game ".length)})]})}}]),n}(r.Component),A={borderRadius:"2em",boxShadow:"0px 2px 8px 0px rgba(99, 99, 99, 0.2)",padding:" 1em 1em",margin:"1em 0.5em",textAlign:"center"},B=_,T={borderRadius:"2em",boxShadow:"0px 2px 8px 0px rgba(99, 99, 99, 0.2)",padding:" 0.5em 1em",margin:"1em 1em"},z=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(f.jsxs)("div",{style:F,children:[Object(f.jsx)("span",{style:L,children:" We recommend"}),this.props.games.map((function(e){return Object(f.jsx)(B,{title:e.name,steamlink:e.steamlink,genre:e.genre,description:e.description},e.id)}))]})}}]),n}(r.Component),F={margin:"20%",textAlign:"center",padding:"10%",borderRadius:"1em",boxShadow:"0px 2px 8px 0px rgba(99, 99, 99, 0.2)"},L={marginBottom:"1em",fontSize:"2em"},E=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this)).state={hovered:!1,selected:!1},r}return Object(j.a)(n,[{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{onMouseEnter:function(){e.setState({hovered:!0})},onMouseLeave:function(){e.setState({hovered:!1})},onClick:function(){e.props.updateClicked(e.props.game.id),e.setState((function(e){return Object(s.a)(Object(s.a)({},e),{},{selected:!e.selected})}))},style:e.state.hovered?G:e.state.selected?W:P,children:[this.props.title,": ",this.props.genre]})}}]),n}(r.Component),P={borderRadius:"2em",boxShadow:"0px 2px 8px 0px rgba(99, 99, 99, 0.2)",padding:" 0.5em 1em",margin:"1em 0.5em"},G=Object(s.a)(Object(s.a)({},P),{},{backgroundColor:"#ddd",cursor:"pointer"}),W=Object(s.a)(Object(s.a)({},P),{},{backgroundColor:"#ccc"}),D=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this)).updateGames=function(){var e=Object(p.a)(d.a.mark((function e(t){var n,a,c,i,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=(n=r.state.games.filter((function(e){return e.id==t}))).length){e.next=4;break}return console.log("error: length == 0"),e.abrupt("return");case 4:if(0!=(a=n[0]).related.length){e.next=8;break}return e.next=8,fetch("/related/"+a.id).then((function(e){return e.json()})).then((function(e){a.related=e}));case 8:c=Object(l.a)(a.related),e.prev=9,c.s();case 11:if((i=c.n()).done){e.next=17;break}return s=i.value,e.next=15,fetch("/title/"+s).then((function(e){return e.json()})).then((function(e){var t,n=Object(l.a)(r.state.games);try{for(n.s();!(t=n.n()).done;){if(t.value.id==e.id)return void console.log("really?")}}catch(a){n.e(a)}finally{n.f()}r.setState((function(t){return{games:[].concat(Object(u.a)(t.games),[{id:e.id,name:e.name,related:[]}])}}))}));case 15:e.next=11;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(9),c.e(e.t0);case 22:return e.prev=22,c.f(),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[9,19,22,25]])})));return function(t){return e.apply(this,arguments)}}(),r.nextClicked=function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return fetch("info/"+e).then((function(e){return e.json()})).then((function(e){r.setState({clicked:[].concat(Object(u.a)(r.state.clicked),[e])})}))})));case 2:return console.log(t.join("_")),e.next=5,fetch("/rankings/"+t.join("_")).then((function(e){return e.json()})).then((function(e){return Promise.all(e.map(function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/info/"+t).then((function(e){return e.json()})).then((function(e){return 0==r.state.games.filter((function(t){return e.id==t.id}))&&r.setState({recomendations:[].concat(Object(u.a)(r.state.recomendations),[e])}),e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={games:[],clicked:[],recomendations:[]},r}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=Object(p.a)(d.a.mark((function e(){var t=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/games",{mode:"no-cors"}).then((function(e){return e.json()})).then((function(e){return t.setState({games:e})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{style:Object(s.a)(Object(s.a)({},H),{},{textAlign:"center",marginTop:"2em",marginBottom:"0"}),children:"Recgamenders"}),this.state.clicked.length?Object(f.jsxs)(a.a.Fragment,{children:[Object(f.jsxs)("div",{style:J,children:[Object(f.jsx)("span",{style:H,children:"You Selected"}),Object(f.jsx)("div",{style:I,children:this.state.clicked.map((function(e){return Object(f.jsx)(E,{title:e.name,genre:e.genre,id:e.id})}))})]}),Object(f.jsx)(z,{id:"recommended",games:this.state.recomendations})]}):Object(f.jsx)(k,{updateClicked:this.updateGames,nextClicked:this.nextClicked,games:this.state.games})]})}}]),n}(r.Component),I={display:"flex",alignContent:"space-between",flexWrap:"wrap"},J={margin:"20%",textAlign:"center",padding:"10%",borderRadius:"1em",marginTop:"2em",boxShadow:"0px 2px 8px 0px rgba(99, 99, 99, 0.2)"},H={marginBottom:"1em",fontSize:"2em"},Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(D,{})}),document.getElementById("root")),Y()}},[[22,1,2]]]);
//# sourceMappingURL=main.0f6e6dae.chunk.js.map